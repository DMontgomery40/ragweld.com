---
import BaseLayout from '../layouts/BaseLayout.astro';
import Nav from '../components/Nav.astro';
import Hero from '../components/Hero.astro';
import Offerings from '../components/Offerings.astro';
import LandingScreenshots from '../components/LandingScreenshots.astro';
import CTA from '../components/CTA.astro';
import Footer from '../components/Footer.astro';
---

<BaseLayout
  title="ragweld — See inside your RAG pipeline. Then fix it."
  description="ragweld is an open-source RAG workbench: vector+sparse+graph retrieval, benchmarks + eval drilldowns, run diffs across hundreds of parameters, deep configuration + glossary, observability + alerting hooks, and MCP server support."
  canonical="https://ragweld.com/"
  ogImage="/og-image.png"
>
  <Fragment slot="head">
    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "ragweld",
      "description": "Open-source RAG workbench combining vector search, sparse retrieval (BM25), and GraphRAG into one unified system with trainable LoRA reranking, embedded Grafana observability, and 396 configurable parameters.",
      "url": "https://ragweld.com",
      "applicationCategory": "DeveloperApplication",
      "operatingSystem": "Linux, macOS, Windows (Docker)",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD",
        "description": "Free self-hosted (MIT license)"
      },
      "author": {
        "@type": "Person",
        "name": "David Montgomery",
        "url": "https://github.com/DMontgomery40"
      },
      "codeRepository": "https://github.com/DMontgomery40/ragweld",
      "license": "https://opensource.org/licenses/MIT"
    })} />
  </Fragment>
  <Nav />
  <main>
    <Hero />
    <section id="what" class="bg-[#09090b] pb-16">
      <div class="mx-auto max-w-7xl px-4">
        <div class="mx-auto max-w-3xl text-center">
          <h2 class="text-3xl font-bold text-white">What ragweld actually is</h2>
          <p class="mt-3 text-gray-400">
            The retrieval stack matters — but ragweld’s differentiator is the engineering surface area around it:
            benchmarking, evaluation, diagnosis, and operations.
          </p>
          <p class="mt-3 text-gray-500">
            It’s built for senior engineers who need answers like: what changed, why did it change, and what should we
            try next — without guessing.
          </p>
          <div class="mt-6 flex justify-center">
            <a
              href="/glossary"
              class="inline-flex items-center gap-2 rounded-lg border border-[#27272a] px-5 py-2.5 text-sm font-semibold text-white hover:bg-[#18181b] transition-colors"
            >
              Browse the parameter glossary →
            </a>
          </div>
        </div>

        <div class="mt-10 grid gap-6 md:grid-cols-2 lg:grid-cols-3">

          <div class="rounded-xl border border-[#27272a] bg-[#0f0f12] p-6">
            <div class="text-sm font-semibold text-[#64748b]">Retrieval</div>
            <h3 class="mt-2 text-lg font-bold text-white">Three retrieval legs, independently tunable</h3>
            <p class="mt-2 text-sm text-gray-400">
              Vector, sparse (BM25), and graph — each with its own weights, top-k, similarity thresholds, and fusion
              parameters. Inspect which leg surfaced each result. Not a black box with one slider.
            </p>
          </div>

          <div class="rounded-xl border border-[#27272a] bg-[#0f0f12] p-6">
            <div class="text-sm font-semibold text-[#64748b]">Configuration</div>
            <h3 class="mt-2 text-lg font-bold text-white">500+ knobs. Every single one tunable.</h3>
            <p class="mt-2 text-sm text-gray-400">
              Chunking strategy, embedding dimensions, BM25 stemmer language, graph hop depth, reranker batch size,
              fusion weights, eval thresholds — everything is a parameter, and every parameter is exposed.
              The <a href="/demo/start" class="text-[#94a3b8] hover:underline">Get Started wizard</a> abstracts
              them into sliders (Faster↔Thorough, Cheapest↔Smartest, Local↔Cloud) so new users
              aren't overwhelmed. Power users get the full surface.
            </p>
          </div>

          <div class="rounded-xl border border-[#27272a] bg-[#0f0f12] p-6">
            <div class="text-sm font-semibold text-[#94a3b8]">Eval pipeline</div>
            <h3 class="mt-2 text-lg font-bold text-white">CI for retrieval, not "have you tried evals"</h3>
            <p class="mt-2 text-sm text-gray-400">
              Schedule nightly eval runs that auto-generate triplets from real user feedback (thumbs up/down).
              Compare runs across every parameter change with evidence, not guesswork. This isn't a suggestion
              to "add CI" — it <em class="text-gray-300">is</em> your CI for retrieval quality.
            </p>
          </div>

          <div class="rounded-xl border border-[#27272a] bg-[#0f0f12] p-6">
            <div class="text-sm font-semibold text-[#94a3b8]">Eval drilldown</div>
            <h3 class="mt-2 text-lg font-bold text-white">Diff the "why" across 500+ parameters</h3>
            <p class="mt-2 text-sm text-gray-400">
              Per-query, per-source drilldown. Diff two runs down to embeddings, tokenization, chunking strategy,
              reranker config — all 500+ parameters — and get a one-click analysis of what likely caused the delta.
              Visual gradient descent for the reranker. Not "here's your MRR number, good luck."
            </p>
          </div>

          <div class="rounded-xl border border-[#27272a] bg-[#0f0f12] p-6">
            <div class="text-sm font-semibold text-gray-300">Reranker</div>
            <h3 class="mt-2 text-lg font-bold text-white">A LoRA training studio, not a reranker checkbox</h3>
            <p class="mt-2 text-sm text-gray-400">
              ragweld's learning reranker scores with Qwen3-style
              <span class="text-gray-300">yes/no logits</span> and trains LoRA adapters on
              <em class="text-gray-300">your</em> data — automatically, from user feedback. MLX-native on Apple
              Silicon. Visual gradient descent. Compare/promote gating so you only ship improvements that actually improve.
            </p>
            <p class="mt-3 text-sm text-gray-500">
              <a href="/blog/posts/learning-reranker-qwen3-mlx/" class="text-[#94a3b8] hover:underline">
                Read the reranking paradigm shift →
              </a>
            </p>
          </div>

          <div class="rounded-xl border border-[#27272a] bg-[#0f0f12] p-6">
            <div class="text-sm font-semibold text-[#94a3b8]">Grafana</div>
            <h3 class="mt-2 text-lg font-bold text-white">Live dashboards built into the UI</h3>
            <p class="mt-2 text-sm text-gray-400">
              Not "we integrate with Grafana." Grafana is <em class="text-gray-300">embedded in the workbench</em> in
              split-screen. Chat in the left panel, watch retrieval metrics in real time on the right. Run an eval
              and watch precision/recall update live. Run a benchmark and watch latency percentiles as they happen.
            </p>
          </div>

          <div class="rounded-xl border border-[#27272a] bg-[#0f0f12] p-6">
            <div class="text-sm font-semibold text-[#64748b]">Alerting</div>
            <h3 class="mt-2 text-lg font-bold text-white">MRR drops at 2am? Someone gets woken up.</h3>
            <p class="mt-2 text-sm text-gray-400">
              Slack and Discord webhook alerts on any metric, any threshold. Canary score, MRR, precision, latency
              p99 — your rules. If Asia is waking up and hitting your RAG endpoint and quality drops, your on-call
              in the US knows about it before users start complaining. This is production ops plumbing, not a dashboard.
            </p>
          </div>

          <div class="rounded-xl border border-[#27272a] bg-[#0f0f12] p-6">
            <div class="text-sm font-semibold text-gray-300">Chat</div>
            <h3 class="mt-2 text-lg font-bold text-white">Every model. Local, cloud, OpenRouter. All of them.</h3>
            <p class="mt-2 text-sm text-gray-400">
              Not "we support GPT-4 and Claude." Literally every model on OpenRouter, every major cloud provider
              (OpenAI, Anthropic, Google, Cohere, Voyage), every local model via Ollama — including vision.
              Multi-corpus querying with per-corpus embedding and tokenization configs when your data demands it.
            </p>
          </div>

          <div class="rounded-xl border border-[#27272a] bg-[#0f0f12] p-6">
            <div class="text-sm font-semibold text-gray-300">Recall</div>
            <h3 class="mt-2 text-lg font-bold text-white">Chat memory that actually works with RAG</h3>
            <p class="mt-2 text-sm text-gray-400">
              Persistent conversation memory (sparse + dense indexed) that combines with corpus retrieval.
              Smart routing decides when to hit memory, when to hit the corpus, and when to hit both — with
              configurable weights and intensity levels. Not "we save chat history."
            </p>
            <p class="mt-3 text-sm text-gray-500">
              <a href="/blog/posts/when-to-query-chat-memory-vs-your-corpus/" class="text-[#94a3b8] hover:underline">
                Read the routing policy →
              </a>
            </p>
          </div>

          <div class="rounded-xl border border-[#27272a] bg-[#0f0f12] p-6">
            <div class="text-sm font-semibold text-[#64748b]">Glossary</div>
            <h3 class="mt-2 text-lg font-bold text-white">396 parameters, documented with arxiv links</h3>
            <p class="mt-2 text-sm text-gray-400">
              Every knob has an in-app tooltip explanation. The technical ones link directly to arxiv papers and
              GitHub repos. The full glossary is also a standalone
              <a href="/glossary" class="text-[#94a3b8] hover:underline">searchable reference</a> — because
              "what does RRF_K_DIV do" shouldn't require reading source code.
            </p>
          </div>

          <div class="rounded-xl border border-[#27272a] bg-[#0f0f12] p-6">
            <div class="text-sm font-semibold text-[#64748b]">Onboarding</div>
            <h3 class="mt-2 text-lg font-bold text-white">Five steps to a working RAG pipeline</h3>
            <p class="mt-2 text-sm text-gray-400">
              The <a href="/demo/start" class="text-[#94a3b8] hover:underline">Get Started wizard</a>: pick a folder
              or GitHub repo, index it, ask golden questions, tune with sliders, save. You go from "I just cloned this"
              to a running, benchmarked pipeline in minutes — not hours of YAML editing.
            </p>
          </div>

          <div class="rounded-xl border border-[#27272a] bg-[#0f0f12] p-6">
            <div class="text-sm font-semibold text-[#94a3b8]">MCP</div>
            <h3 class="mt-2 text-lg font-bold text-white">MCP server built in. Table stakes.</h3>
            <p class="mt-2 text-sm text-gray-400">
              Use ragweld tools from any MCP client — IDEs, agents, automation pipelines, other apps.
              HTTP and stdio transports. No separate integration work per surface.
            </p>
          </div>

        </div>
      </div>
    </section>

    <LandingScreenshots />
    <section id="how" class="bg-[#09090b] pb-20">
      <div class="mx-auto max-w-7xl px-4">
        <div class="mx-auto max-w-3xl text-center">
          <h2 class="text-3xl font-bold text-white">Under the hood</h2>
          <p class="mt-3 text-gray-400">
            Three-leg retrieval is the spine: vector + sparse + graph signals fused and reranked — then surfaced through a
            workbench that lets you measure and iterate.
          </p>
        </div>
        <div class="mt-10 grid gap-6 md:grid-cols-2 lg:grid-cols-3">
          <div class="rounded-xl border border-[#27272a] bg-[#0f0f12] p-6">
            <div class="text-xs font-semibold text-gray-400">1</div>
            <div class="mt-2 text-base font-semibold text-white">Index + model the corpus</div>
            <div class="mt-2 text-sm text-gray-400">
              Chunk into citeable spans, preserve file path anchors, and extract graph signals so you can navigate and
              retrieve with structure.
            </div>
          </div>
          <div class="rounded-xl border border-[#27272a] bg-[#0f0f12] p-6">
            <div class="text-xs font-semibold text-gray-400">2</div>
            <div class="mt-2 text-base font-semibold text-white">Retrieve (multi-leg) + fuse</div>
            <div class="mt-2 text-sm text-gray-400">
              Run sparse + vector + graph retrieval, fuse signals, then rerank candidates so answers are grounded and
              inspectable.
            </div>
          </div>
          <div class="rounded-xl border border-[#27272a] bg-[#0f0f12] p-6">
            <div class="text-xs font-semibold text-gray-400">3</div>
            <div class="mt-2 text-base font-semibold text-white">Evaluate + iterate</div>
            <div class="mt-2 text-sm text-gray-400">
              Don’t just ship a prompt. Run evals, compare runs, drill down, and tune or train the reranker based on
              evidence.
            </div>
          </div>
        </div>
      </div>
    </section>

    <Offerings />
    <CTA />
  </main>
  <Footer />
</BaseLayout>
